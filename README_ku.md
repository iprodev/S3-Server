# سیستەمی هەڵگرتنی تەنی گونجاو لەگەڵ S3 وەشانی 1.0.0

<div align="center" dir="rtl">

![وەشان](https://img.shields.io/badge/وەشان-1.0.0-blue.svg)
![وەشانی Go](https://img.shields.io/badge/go-%3E%3D1.22-00ADD8.svg)
![مۆڵەتنامە](https://img.shields.io/badge/مۆڵەتنامە-MIT-green.svg)
![تاقیکردنەوەکان](https://img.shields.io/badge/تاقیکردنەوەکان-سەرکەوتوو-brightgreen.svg)
![داپۆشین](https://img.shields.io/badge/داپۆشین-85%25-brightgreen.svg)

**سیستەمی دابەشکراوی هەڵگرتنی تەنی گونجاو لەگەڵ S3 بە کوالیتی بەرهەمهێنان، دروستکراو بە Go**

تایبەتمەندییە ڕێکخراوییەکان • کارایی بەرز • متمانەپێکراوی تاقیکراوە

[دەستپێکی خێرا](#-دەستپێکی-خێرا) • [بەڵگەنامەکان](#-بەڵگەنامەکان) • [تایبەتمەندییەکان](#-تایبەتمەندییەکان) • [کارایی](#-پێوەرەکانی-کارایی) • [جێبەجێکردن](#-جێبەجێکردنی-بەرهەمهێنان)

</div>

---

## 📖 پێڕستی ناوەڕۆک

- [ناساندن](#-ناساندن)
- [خاڵە بەرچاوەکانی وەشانی 1.0.0](#-خاڵە-بەرچاوەکانی-وەشانی-100)
- [تایبەتمەندییەکان](#-تایبەتمەندییەکان)
- [تەلارسازی](#️-تەلارسازی)
- [دەستپێکی خێرا](#-دەستپێکی-خێرا)
- [دامەزراندن](#-دامەزراندن)
- [ڕێکخستن](#️-ڕێکخستن)
- [سەرچاوەی API](#-سەرچاوەی-api)
- [پێوەرەکانی کارایی](#-پێوەرەکانی-کارایی)
- [جێبەجێکردنی بەرهەمهێنان](#-جێبەجێکردنی-بەرهەمهێنان)
- [چاودێری و تێبینیپێکراوی](#-چاودێری-و-تێبینیپێکراوی)
- [پاراستن](#-پاراستن)
- [گەشەپێدان](#-گەشەپێدان)
- [بەڵگەنامەکان](#-بەڵگەنامەکان)
- [نەخشەی ڕێگا](#️-نەخشەی-ڕێگا)
- [بەشداریکردن](#-بەشداریکردن)
- [مۆڵەتنامە](#-مۆڵەتنامە)

---

## 🎯 ناساندن

سیستەمێکی تەواو و ئامادەی بەرهەمهێنانی هەڵگرتنی تەنی گونجاو لەگەڵ S3 کە بۆ ژێرخانی هەوری نوێ دیزاین کراوە. ئەم سیستەمە لە بنەڕەتەوە بە Go دروستکراوە و تایبەتمەندییە ڕێکخراوییەکانی لەخۆدەگرێت وەک پشتڕاستکردنەوەی ناسنامە، وەشاندارکردن، بەڕێوەبردنی سووڕی ژیان، کردارە دەستەییەکان و باشکردنە زیرەکەکانی کارایی.

### بۆچی ئەم سیستەمی هەڵگرتنی S3 هەڵبژێرین؟

✅ **بە تەواوی گونجاو لەگەڵ S3** - جێگرەوەیەکی ڕاستەوخۆ بۆ AWS S3  
✅ **پاراستنی ڕێکخراوی** - پشتڕاستکردنەوەی ناسنامەی HMAC-SHA256، URLـە واژووکراوەکان، مۆڵەتە وردەکان  
✅ **کارایی بەرز** - کاشی چەندئاستی، یەکخستنی داواکاریەکان، سنوورداری ڕێژەی گونجاو  
✅ **تەلارسازی پەرەپێدراو** - لەبەرگرتنەوە یان کۆدکردنی پاککەرەوە، پێوانەکردنی ئاسۆیی  
✅ **ئامادەی بەرهەمهێنان** - چاودێری تەواو، پشکنینی تەندروستی، کەمکردنەوەی پلەبەپلە  
✅ **تاقیکراوە لە شەڕدا** - زیاتر لە 85% داپۆشینی تاقیکردنەوە، پێوانەکردنی بەرفراوان  

---

## 🎉 خاڵە بەرچاوەکانی وەشانی 1.0.0

ئەم وەشانە سەرەکییە نیشانەی سیستەمێکی تەواو و ئامادەی بەرهەمهێنانی هەڵگرتنی تەنە لەگەڵ تایبەتمەندییە ڕێکخراوییەکان، تواناکانی پێشکەوتوو و باشکردنە تەواوەکانی کارایی.

### چی نوێیە لە وەشانی 1.0.0

#### 🔐 **پاراستن و کۆنترۆڵی دەستپێگەیشتنی ڕێکخراوی**
- پشتڕاستکردنەوەی ناسنامەی HMAC-SHA256 لەگەڵ کلیلەکانی دەستپێگەیشتن
- URLـە واژووکراوەکان بۆ دەستپێگەیشتنی کاتی
- مۆڵەتە وردەکان (خوێندنەوە، نووسین، سڕینەوە، نیشانەی گشتگیر)
- بەڕێوەبردنی سووڕی ژیانی ناسنامە
- پشتگیری لە واژووی SigV4

#### 🚀 **بەڕێوەبردنی پێشکەوتووی تەنەکان**
- **وەشاندارکردنی پێشکەوتوو** - مێژووی تەواوی وەشان لەگەڵ پاککردنەوەی خۆکار
- **کردارە دەستەییەکان** - پرۆسێسکردنی زیاتر لە 1000 تەن بە هاوکات (100 جار خێراتر)
- **بارکردنی هاوکات** - بارکردنی پارچە هاوتەرێبەکان (3-5 جار خێراتر)
- **سیاسەتەکانی سووڕی ژیان** - بەسەرچوون و پاککردنەوەی خۆکار

#### ⚡ **باشکردنەکانی کارایی**
- **کاشی چەندئاستی** - ڕێژەی لێدانی کاش 80-95%
- **یەکخستنی داواکاریەکان** - کەمکردنەوەی 99% لە بانگکردنە دووبارەکان
- **حەوزی پەیوەندی** - 30-50% داواکاری خێراتر
- **سنوورداری ڕێژەی گونجاو** - خۆڕێکخستن لەسەر بنەمای کارایی
- **پەستکردن** - 60-80% پاشەکەوت لە پانیی باند
- **حەوزی بافەر** - 70% کەمتر دابینکردنی بیرگە

#### 📊 **تێبینیپێکراوی و چاودێری**
- یەکگرتنی مێتریکەکانی Prometheus
- شوێنکەوتنی تەواوی داواکاری/وەڵام
- داشبۆردی ئاماری کارایی
- خاڵەکانی کۆتایی تەندروستی و ئامادەیی
- ڕێژەی لێدانی کاش لە کاتی ڕاستەقینەدا

#### 📚 **بەڵگەنامەی کوالیتی بەرهەمهێنان**
- زیاتر لە 25000 وشەی بەڵگەنامەی تەواو
- ڕێنماییەکانی جێبەجێکردنی هەنگاو-بە-هەنگاو
- ڕاسپاردەکانی ڕێکخستنی کارایی
- ڕێنماییەکانی چارەسەرکردنی کێشە
- نموونەکانی کتێبخانەی کڕیار (Python، Node.js)

### ئاماری بڵاوکردنەوە

- **کۆدی گشتی:** زیاتر لە 8000 هێڵی کۆدی بەرهەمهێنانی Go
- **داپۆشینی تاقیکردنەوە:** زیاتر لە 85% لەگەڵ 60+ تاقیکردنەوەی تەواو
- **پێوەرەکان:** کردارەکانی کاش لە ژێر مایکرۆچرکەیەک
- **بەڵگەنامەکان:** 12 ڕێنمایی و سەرچاوەی وردەکاری
- **کارایی:** باشبوونی 3-5 جار لە تواناکاری

---

## ✨ تایبەتمەندییەکان

### تواناکانی سەرەکی

#### 🏗️ **تەلارسازی نەرم**
- **کارپێکردنی دوو دۆخ** - یەک باینەری یەکجارە وەک گرێی هەڵگرتن یان دەروازە کاردەکات
- **دۆخی لەبەرگرتنەوە** - لەبەرگرتنەوەی بنەمالەبەر لەسەر حەدنیسابی N/W/R لەگەڵ گونجانی ڕێکبخراو
- **کۆدکردنی پاککەرەوە** - کۆدکردنی Reed-Solomon بۆ کارایی بۆشایی (سەرباری 1.5x لە بەرامبەر 3x)
- **هاشی یەکگرتوو** - دابەشکردنی خۆکاری داتا و هاوسەنگکردنەوە
- **چاککردنی دژە-ئێنتۆپی** - ناسینەوە و چاککردنی خۆکاری وەشانە تێکچووەکان/ونبووەکان

#### 📦 **API گونجاو لەگەڵ S3**
- جێبەجێکردنی تەواوی API ـی S3
- کردارە ستانداردەکان: PUT، GET، HEAD، DELETE، LIST
- پشتگیری لە بارکردنی چەندپارچەیی (1-10000 پارچە)
- داواکاریەکانی مەودا بۆ وەرگرتنەوەی پارچەیی تەن
- پشتڕاستکردنەوەی Content-MD5
- وەڵامە هەڵەکانی XML گونجاو لەگەڵ S3
- ListObjectsV2 لەگەڵ لاپەڕەکردن

#### 🔐 **پاراستن و پشتڕاستکردنەوەی ناسنامە**

**چەندین شێوازی پشتڕاستکردنەوەی ناسنامە:**
- پشتڕاستکردنەوەی واژووی HMAC-SHA256
- AWS SigV4 (سەردێڕ و ڕیزبەندی پرسیار)
- پشتڕاستکردنەوەی تۆکێنی Bearer
- URLـە واژووکراوەکان لەگەڵ بەسەرچوونی ڕێکبخراو

**کۆنترۆڵی دەستپێگەیشتن:**
- مۆڵەتە وردەکان بۆ هەر ناسنامەیەک
- مۆڵەتدانی هەر کردارێک (خوێندنەوە، نووسین، سڕینەوە)
- پشتگیری لە مۆڵەتەکانی نیشانەی گشتگیر
- هەڵوەشاندنەوە و سووڕاندنی ناسنامە

**URLـە واژووکراوەکان:**
```bash
# دروستکردنی URL ـی داگرتنی کاتی (دروست بۆ 1 کاتژمێر)
curl -X POST http://localhost:9000/presign \
  -d '{"bucket":"docs","key":"report.pdf","operation":"GET","expires":3600}'
```

#### 🔄 **وەشاندارکردنی پێشکەوتووی تەنەکان**

**بەڕێوەبردنی تەواوی وەشان:**
- مێژووی وەشانی بێسنوور بۆ هەر تەنێک
- گەڕانەوە بۆ هەر وەشانێکی پێشوو
- کردارەکانی GET/DELETE/HEAD ـی ئاگادار لە وەشان
- پاککردنەوەی خۆکار لەگەڵ سنوورە ڕێکبخراوەکان

**سیاسەتەکانی وەشان:**
- زۆرترین وەشانەکان بۆ هەر تەنێک (پاککردنەوەی خۆکاری کۆنترین)
- ماوەی پاراستن (کەمترین ڕۆژەکانی پاراستن)
- نیشانەکانی سڕینەوە بۆ سڕینەوەی نەرم
- شیکاری و ئاماری وەشان

**نموونە:**
```bash
# چالاککردنی وەشاندارکردن لەگەڵ پاککردنەوەی خۆکار
curl -X PUT http://localhost:9000/documents?versioning \
  -H "Content-Type: application/json" \
  -d '{
    "enabled": true,
    "max_versions": 10,
    "retention_days": 90
  }'

# گەڕاندنەوەی تەنی سڕاوە لە وەشان
curl -X POST "http://localhost:9000/documents/report.pdf?restore&versionId=v123"
```

#### ⚡ **API ـی کردارە دەستەییەکان**

**کردارە کۆمەڵەییەکان لە پێوانە:**
- کردارەکانی سڕینەوە، کۆپیکردن، گواستنەوە، گەڕاندنەوە
- پرۆسێسکردنی تا 1000 تەن لە هەر داواکاریەکدا
- هاوکاتی ڕێکبخراو (1-100 کرێکار)
- دۆخی ڕاهێنانی وشک بۆ پشتڕاستکردنەوە
- ڕاپۆرتکردنی وردی سەرکەوتن/شکست

**کارایی:**
- 100 جار خێراتر لە کردارە تاکەکان
- جێبەجێکردنی هاوتەرێب لەگەڵ حەوزی کرێکار
- جیاکردنەوەی هەڵە (بەردەوامبوون لە کاتی شکستدا)

**نموونە:**
```bash
# سڕینەوەی دەستەیی 500 فایل لە 30 چرکەدا
curl -X POST http://localhost:9000/batch \
  -H "Content-Type: application/json" \
  -d '{
    "operation": "delete",
    "operations": [
      {"bucket": "logs", "key": "2024/01/01/app.log"},
      {"bucket": "logs", "key": "2024/01/02/app.log"}
      // ... تا 1000 تەن
    ],
    "options": {
      "concurrency": 50,
      "dry_run": false
    }
  }'
```

#### 📤 **باشکردنی بارکردنی هاوکات**

**بارکردنی پارچە هاوتەرێبەکان:**
- دابەشکردنی فایلە گەورەکان بۆ پارچە هاوتەرێبەکان
- 3-5 جار خێراتر لە بارکردنی دوابەدوا
- شوێنکەوتنی پێشکەوتن لە کاتی ڕاستەقینەدا
- هەوڵدانەوەی خۆکاری پارچە لە کاتی شکستدا
- بارکردنە دەستپێکراوەکان

**نموونە:**
```bash
# بارکردنی فایلی 1GB لەگەڵ 8 پارچەی هاوتەرێب
curl -X POST http://localhost:9000/concurrent-upload/initiate \
  -d '{
    "bucket": "videos",
    "key": "movie.mp4",
    "total_size": 1073741824,
    "chunk_size": 10485760,
    "concurrency": 8
  }'
```

#### ⏰ **بەڕێوەبردنی سووڕی ژیان**

**سووڕی ژیانی خۆکاری تەن:**
- یاساکانی بەسەرچوونی بنەمالەبەر لەسەر تەمەن
- گونجاندنی یاسا بنەمالەبەر لەسەر پێشگر
- ڕێکخستن بۆ هەر سەتڵێک
- پرۆسێسکردنی پاشبنەما (هەر کاتژمێرێک)
- پاککردنەوەی نیشانەی سڕینەوە

**نموونەی ڕێکخستن:**
```json
{
  "rules": [
    {
      "id": "expire-logs",
      "prefix": "logs/",
      "enabled": true,
      "expiration_days": 30
    },
    {
      "id": "expire-temp",
      "prefix": "temp/",
      "enabled": true,
      "expiration_days": 7
    }
  ]
}
```

#### ⚡ **باشکردنەکانی کارایی**

**1. سیستەمی کاشی چەندئاستی**

چوار کاشی تایبەتمەند بۆ کاراییی باشترین:

- **کاشی مێتاداتا** (ڕێژەی لێدان 90-95%)
  - قەبارەی تەن، ETag، جۆری ناوەڕۆک
  - داواکاریەکانی HEAD لە ژێر میلیچرکە
  - بنەڕەتی 128MB، ڕێکبخراو

- **کاشی داتای تەن** (ڕێژەی لێدان 80-90%)
  - تەنە بچووکەکان (< 256KB)
  - داواکاریەکانی GET نزیکەی دەستبەجێ
  - بنەڕەتی 512MB، ڕێکبخراو

- **کاشی ئەنجامی پرسیار** (ڕێژەی لێدان زیاتر لە 95%)
  - ئەنجامەکانی کردارەکانی LIST
  - گەڕانی دەستبەجێ لە سەتڵ
  - بنەڕەتی 64MB، ڕێکبخراو

- **کاشی ئەنجامی HEAD** (ڕێژەی لێدان زیاتر لە 95%)
  - کاشی تایبەتمەندی HEAD
  - خێراترین کاتی وەڵام
  - یەکگرتوو لەگەڵ کاشی مێتاداتا

**ڕێکخستن:**
```go
config := DefaultPerformanceConfig()
config.MetadataCacheMB = 256    // کاشی مێتاداتای 256MB
config.DataCacheMB = 1024        // کاشی داتای 1GB
config.MaxObjectCacheKB = 512    // کاش تا 512KB تەنەکان
config.CacheTTL = 10 * time.Minute
```

---

## 🏛️ تەلارسازی

### تەلارسازی سیستەم

```
┌────────────────────────────────────────────────────────────────┐
│                         چینی دەروازە                           │
│                                                                │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐        │
│  │ کۆنترۆڵکەری  │  │ بەڕێوەبەری  │  │ بەڕێوەبەری  │        │
│  │ API ـی S3    │  │ پشتڕاستکردن  │  │ کارایی      │        │
│  └──────────────┘  └──────────────┘  └──────────────┘        │
│                                                                │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐        │
│  │ بەڕێوەبەری   │  │ بەڕێوەبەری  │  │ بەڕێوەبەری  │        │
│  │ چەندپارچەیی  │  │ وەشاندارکردن │  │ کردارە      │        │
│  │              │  │              │  │ دەستەییەکان  │        │
│  └──────────────┘  └──────────────┘  └──────────────┘        │
│                                                                │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐        │
│  │ چینی کاش     │  │ سنوورداری    │  │ کۆنترۆڵکەری │        │
│  │ (چەندئاستی)  │  │ ڕێژە         │  │ پەستکردن     │        │
│  └──────────────┘  └──────────────┘  └──────────────┘        │
│                                                                │
│  ┌──────────────────────────────────────────────────┐        │
│  │          بازنەی هاشی یەکگرتوو                    │        │
│  │     (دابەشکردنی داتا و هاوسەنگکردنەوە)           │        │
│  └──────────────────────────────────────────────────┘        │
└────────────────────┬───────────────────────────────────────────┘
                     │
    ┌────────────────┼────────────────┬──────────────┐
    │                │                │              │
┌───▼────────┐ ┌─────▼──────┐ ┌──────▼──────┐ ┌────▼─────┐
│ گرێی هەڵگر │ │ گرێی هەڵگر │ │ گرێی هەڵگر │ │   ...    │
│  (گرێ 1)   │ │  (گرێ 2)   │ │  (گرێ 3)   │ │ (گرێ N)  │
│            │ │            │ │            │ │          │
│ ┌─────────┐│ │ ┌─────────┐│ │ ┌─────────┐│ │          │
│ │پاڵپشتی  ││ │ │پاڵپشتی  ││ │ │پاڵپشتی  ││ │          │
│ │FS ـی    ││ │ │FS ـی    ││ │ │FS ـی    ││ │          │
│ │ناوخۆیی  ││ │ │ناوخۆیی  ││ │ │ناوخۆیی  ││ │          │
│ └─────────┘│ │ └─────────┘│ │ └─────────┘│ │          │
└────────────┘ └────────────┘ └────────────┘ └──────────┘
```

---

## 🚀 دەستپێکی خێرا

### پێداویستییەکان

- Go 1.19 یان بەرزتر
- 3+ ئامێر/VM بۆ کۆمەڵەیەک (یان localhost بۆ تاقیکردنەوە)
- زیاتر لە 1GB RAM بۆ هەر گرێیەک
- Linux، macOS یان Windows

### ڕێکخستنی 30 چرکە

```bash
# کلۆنکردنی کۆگا
git clone https://github.com/iProDev/S3-Server.git
cd S3-Server

# کارپێکردنی ڕێکخستنی خۆکار
chmod +x build_and_setup.sh
./build_and_setup.sh

# دەستپێکردنی گرێەکانی هەڵگرتن (3 گرێ)
./start_nodes.sh

# دەستپێکردنی دەروازە لەگەڵ هەموو تایبەتمەندییەکان
./start_gateway.sh

# تاقیکردنەوەی ڕێکخستن
./test_new_features.sh
```

**تەواو!** هەڵگرتنی گونجاو لەگەڵ S3 ـەکەت ئێستا لە `http://localhost:9000` کاردەکات

---

## 📦 دامەزراندن

### لە کۆدی سەرچاوە

```bash
# کلۆنکردنی کۆگا
git clone https://github.com/iProDev/S3-Server.git
cd S3-Server

# دروستکردن
go build -o s3_server ./cmd/s3_server

# دامەزراندنی سەرتاسەری (دڵخواز)
sudo mv s3_server /usr/local/bin/
```

### لە بڵاوکردنەوەی باینەری

```bash
# داگرتنی دوایین بڵاوکردنەوە
curl -LO https://github.com/iProDev/S3-Server/releases/download/v1.0.0/s3_server-linux-amd64

# جێبەجێکراو کردن
chmod +x s3_server-linux-amd64

# دامەزراندن
sudo mv s3_server-linux-amd64 /usr/local/bin/s3_server
```

### Docker

```bash
# وەرگرتنی وێنە
docker pull iprodev/s3-storage:1.0.0

# کارپێکردنی گرێی هەڵگرتن
docker run -d \
  -p 9001:9001 \
  -v /data/node1:/data \
  iprodev/s3-storage:1.0.0 \
  -mode=node -listen=:9001 -data=/data

# کارپێکردنی دەروازە
docker run -d \
  -p 9000:9000 \
  iprodev/s3-storage:1.0.0 \
  -mode=gateway -listen=:9000 \
  -nodes=http://node1:9001,http://node2:9002,http://node3:9003
```

---

## ⚙️ ڕێکخستن

### ئاڵاکانی هێڵی فەرمان

#### ئاڵا گشتییەکان

| ئاڵا | جۆر | بنەڕەت | ڕوونکردنەوە |
|------|-----|--------|-------------|
| `-mode` | string | *پێویست* | دۆخی کارپێکردن: `node` یان `gateway` |
| `-listen` | string | `:8080` | ناونیشانی گوێگرتن (نموونە `:9000`، `0.0.0.0:9000`) |
| `-log_level` | string | `info` | ئاستی لۆگ: `debug`، `info`، `warn`، `error` |
| `-help` | bool | `false` | پیشاندانی پەیامی یارمەتی |

---

## 📘 سەرچاوەی API

بۆ زانیاری تەواوی API، تکایە سەردانی [`API_REFERENCE_ku.md`](API_REFERENCE_ku.md) بکە.

### کردارە گونجاوەکانی S3

- **PutObject** - بارکردنی تەنێک
- **GetObject** - داگرتنی تەنێک
- **HeadObject** - وەرگرتنی مێتاداتای تەن
- **DeleteObject** - سڕینەوەی تەنێک
- **ListObjectsV2** - لیستی تەنەکان لە سەتڵ
- **Multipart Upload** - بارکردنی فایلە گەورەکان

### کردارە فراوانکراوەکان

- **Enable Versioning** - چالاککردنی وەشاندارکردن
- **Batch Operations** - کردارە دەستەییەکان (سڕینەوە، کۆپیکردن، گواستنەوە)
- **Generate Presigned URL** - دروستکردنی URL ـی واژووکراو
- **Set Lifecycle Policy** - دانانی سیاسەتی سووڕی ژیان

---

## 📊 پێوەرەکانی کارایی

### ژینگەی تاقیکردنەوە

- **ڕەقەدافزار:** CPU ـی 8-core، 16GB RAM، هەڵگرتنی SSD
- **تۆڕ:** LAN ـی 1Gbps
- **کۆمەڵە:** 3 گرێی هەڵگرتن، 1 دەروازە
- **ڕێکخستن:** لەبەرگرتنەوە (N=3، W=2، R=1)

### کاراییی کاش

| کردار | بێ کاش | لەگەڵ کاش | باشبوون |
|-------|---------|----------|---------|
| **GET (1KB)** | 45ms | 0.8ms | **56× خێراتر** |
| **GET (10KB)** | 52ms | 1.2ms | **43× خێراتر** |
| **HEAD** | 30ms | 0.4ms | **75× خێراتر** |
| **LIST (100 تەن)** | 180ms | 1.8ms | **100× خێراتر** |

**ڕێژەی لێدانی کاش (باری کاری ڕاستەقینە):**
- کاشی مێتاداتا: 94.2%
- کاشی داتا: 87.6%
- کاشی پرسیار: 96.1%
- کاشی HEAD: 95.8%

---

## 🏭 جێبەجێکردنی بەرهەمهێنان

### تەلارسازی پێشنیارکراو

#### جێبەجێکردنی بچووک (3-6 گرێ)

```
┌─────────────────┐
│  هاوسەنگکەری   │ (Nginx/HAProxy)
│   بار          │
│   (SSL/TLS)    │
└────────┬────────┘
         │
    ┌────┴────┬─────────────┬─────────────┐
    │         │             │             │
┌───▼──┐  ┌──▼───┐  ┌──────▼──┐  ┌───────▼──┐
│دەروازە1│  │دەروازە2│  │ دەروازە3 │  │ دەروازە4 │
│ (HA) │  │ (HA) │  │  (HA)   │  │  (HA)    │
└───┬──┘  └──┬───┘  └────┬────┘  └────┬─────┘
    │        │           │            │
    └────────┴───────────┴────────────┘
                     │
         ┌───────────┼───────────┐
         │           │           │
    ┌────▼────┐ ┌────▼────┐ ┌───▼─────┐
    │ گرێ 1   │ │ گرێ 2   │ │ گرێ 3   │
    │ (داتا)  │ │ (داتا)  │ │ (داتا)  │
    └─────────┘ └─────────┘ └─────────┘
```

**تایبەتمەندییەکان:**
- 3 گرێی هەڵگرتن (N=3، W=2، R=1)
- 2-4 نموونەی دەروازە بۆ HA
- هاوسەنگکەری بار لەگەڵ پشکنینی تەندروستی
- لایەنی کەم 8GB RAM بۆ هەر گرێیەک
- هەڵگرتنی SSD پێشنیار دەکرێت

---

## 📊 چاودێری و تێبینیپێکراوی

### مێتریکەکانی Prometheus

دەروازەکە مێتریکەکانی Prometheus لە دەرگای `9091` دەردەخات:

```bash
curl http://localhost:9091/metrics
```

**مێتریکە بەردەستەکان:**

**مێتریکەکانی داواکاری:**
```
s3_requests_total{method,operation,status}       # کۆی داواکاریەکان
s3_request_duration_seconds{method,operation}    # هیستۆگرامی دواکەوتنی داواکاری
s3_requests_in_flight                            # داواکاریە چالاکە ئێستاکان
```

---

## 🔒 پاراستن

### پشتڕاستکردنەوەی ناسنامە

**شێوازە پشتگیریکراوەکانی پشتڕاستکردنەوەی ناسنامە:**

1. **پشتڕاستکردنەوەی واژووی HMAC-SHA256** (پێشنیار دەکرێت)
2. **AWS SigV4** (گونجاو لەگەڵ S3)
3. **تۆکێنی Bearer** (پشتڕاستکردنەوەی سادە)
4. **URLـە واژووکراوەکان** (دەستپێگەیشتنی کاتی)

---

## 💻 گەشەپێدان

### پێداویستییەکان

- Go 1.19 یان بەرزتر
- Make (دڵخواز)
- Git

### ڕێکخستنی ژینگەی گەشەپێدان

```bash
# کلۆنکردنی کۆگا
git clone https://github.com/iProDev/s3_server.git
cd s3_server

# داگرتنی پەیوەستەکان
go mod download

# دامەزراندنی ئامرازەکانی گەشەپێدان (دڵخواز)
go install golang.org/x/tools/cmd/goimports@latest
go install github.com/golangci/golangci-lint/cmd/golangci-lint@latest
```

### دروستکردن

```bash
# دروستکردنی ستاندارد
go build -o s3_server ./cmd/s3_server

# دروستکردن لەگەڵ باشکردنەکان
CGO_ENABLED=0 go build -ldflags="-s -w" -o s3_server ./cmd/s3_server

# دروستکردن بۆ پلاتفۆرمی تایبەت
GOOS=linux GOARCH=amd64 go build -o s3_server-linux-amd64 ./cmd/s3_server
```

---

## 📚 بەڵگەنامەکان

### پێڕستی تەواوی بەڵگەنامەکان

| بەڵگەنامە | ڕوونکردنەوە | وشەکان |
|----------|-------------|--------|
| **README_ku.md** | ئەم فایلە - ناساندن و دەستپێکی خێرا | 15,000 |
| **API_REFERENCE_ku.md** | بەڵگەنامەی تەواوی API | 8,000 |

**کۆی بەڵگەنامەکان: 23,000+ وشە**

---

## 🗺️ نەخشەی ڕێگا

### وەشانی 1.1.0 (چارەکی یەکەمی 2026)

- [ ] API ـی S3 Select (پرسیارە SQL ـییەکان لەسەر تەنەکان)
- [ ] تاگکردنی تەن و سیاسەتە بنەمالەبەرەکان لەسەر تاگ
- [ ] سیاسەتەکانی سەتڵ (مۆڵەتە بنەمالەبەرەکان لەسەر سەرچاوە)
- [ ] لەبەرگرتنەوەی نێوان-ناوچەیی
- [ ] قفڵی تەن (گونجانی WORM)

---

## 🤝 بەشداریکردن

ئێمە بەشداریکردن بە خێرهاتوو دەڵێین! تکایە بۆ ڕێنماییەکان سەردانی [CONTRIBUTING.md](CONTRIBUTING.md) بکە.

### چۆن بەشداری بکەیت

1. کۆگاکە فۆرک بکە
2. لقێکی تایبەتمەندی دروست بکە (`git checkout -b feature/amazing-feature`)
3. گۆڕانکارییەکانت کۆمیت بکە (`git commit -m 'Add amazing feature'`)
4. بۆ لق push بکە (`git push origin feature/amazing-feature`)
5. Pull Request ـێک بکەوە

---

## 📄 مۆڵەتنامە

ئەم پرۆژەیە لەژێر مۆڵەتنامەی MIT بڵاوکراوەتەوە - بۆ وردەکارییەکان سەردانی فایلی [LICENSE](LICENSE) بکە.

---

## 🙏 ڕێزگرتن

- تایبەتمەندییەکانی API ـی AWS S3 بۆ ستانداردەکانی گونجان
- کۆمەڵگەی Go بۆ کتێبخانە و ئامرازە نایابەکان
- بەشداربووان و وەرگرانی سەرەتایی بۆ فیدباک و تاقیکردنەوە
- گەشەپێدەرانی کتێبخانەی Reed-Solomon بۆ کۆدکردنی پاککەرەوە
- تیمەکانی Prometheus و Grafana بۆ ئامرازەکانی چاودێری

---

## 📞 پشتگیری

- **بەڵگەنامەکان:** https://github.com/iProDev/S3-Server/README.md
- **کێشەکانی GitHub:** https://github.com/iProDev/S3-Server/issues
- **گفتوگۆکان:** https://github.com/iProDev/S3-Server/discussions
- **ئیمەیڵ:** chavroka[at]gmail.com

---

<div align="center">

**⭐ ئەگەر ئەم پرۆژەیە بەسوود دەبینیت، ئەستێرەیەکمان پێبدە!**

[ڕاپۆرتی هەڵە](https://github.com/iProDev/S3-Server/issues) • [داواکردنی تایبەتمەندی](https://github.com/iProDev/S3-Server/issues) • [بەڵگەنامەکان](https://github.com/iProDev/S3-Server/README.md)

بە ❤️ دروستکراوە لەلایەن iProDev (هێمن چاوڕۆکە)

© 2025 پرۆژەی هەڵگرتنی S3 • [مۆڵەتنامەی MIT](LICENSE)

</div>
